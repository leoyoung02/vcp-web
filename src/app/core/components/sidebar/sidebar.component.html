<!-- <nav class="absolute top-2 left-2 sm:block md:hidden lg:hidden bg-white border-gray-200 dark:bg-gray-900">
  <button data-collapse-toggle="navbar-default" type="button" class="inline-flex items-center p-2 w-10 h-10 justify-center text-sm text-gray-500 rounded-lg md:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600" aria-controls="navbar-default" aria-expanded="false">
    <span class="sr-only">Open main menu</span>
    <svg class="w-5 h-5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 17 14">
        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M1 1h15M1 7h15M1 13h15"/>
    </svg>
  </button>
  <div class="px-0 flex flex-row flex-wrap items-center justify-center gap-8 center w-full hidden md:flex md:w-auto ld:w-full" id="navbar-default">
    <ng-container *ngFor="let menu of menus$ | async">
      <div
        *ngIf="menu?.course_wall != 11"
        [ngClass]="{'current': selectedTab == menu.path || menu?.new_button == 1 || (menu?.course_wall == 11 && selectedTab >=200) }"
        [ngStyle]="{'background-color': selectedTab == menu.path || menu?.new_button == 1 || selectedTab == (menu.path?.replace('activity-feed-', '').replace('/', '')) || (menu?.course_wall == 11 && selectedTab >=200) ? buttonColor : 'transparent'}"
        class="border border-white rounded-[10px] py-2 px-4 w-full max-w-full sm:w-full sm:max-w-full md:w-auto md:max-w-auto lg:w-auto lg:max-w-auto"
      >
          <ng-container *ngIf="menu?.new_button == 1">
              <a
                  class="flex items-center justify-center text-sm"
                  [href]="menu?.path"
                  (click)="changeSelectedTab(menu.path)"
                  style="color:#fff"
                  target="_blank"
                  [ngStyle]="{'background-color': buttonColor}"
              >
                  {{ getMenuTitle(menu) }}
              </a>
          </ng-container>
          <ng-container *ngIf="menu?.course_wall == 1">
              <a
                  class="flex items-center justify-center text-sm"
                  href="javascript:;"
                  (click)="goToCourseWall(menu)"
                  style="color:#fff"
                  [ngStyle]="{'color': selectedTab == (menu.path?.replace('activity-feed-', '').replace('/', '')) ? '#fff' : '#1E1E1E'}"
              >
                  <fa-icon 
                      class="fa flex items-center px-2 text-sm" 
                      [icon]="graduationCapIcon"
                      [ngStyle]="{'color': buttonColor}"
                      [ngStyle]="{'color': selectedTab == (menu.path?.replace('activity-feed-', '').replace('/', '')) ? '#fff' : buttonColor}"
                  >
                  </fa-icon>
                  {{ getMenuTitle(menu) }}
              </a>
          </ng-container>
          <ng-container *ngIf="!menu?.new_button && !menu?.course_wall">
          <a
              class="flex items-center justify-center text-sm"
              [routerLink]="['/', (menu?.path == 'home' ? '/' : menu?.path)]"
              (click)="changeSelectedTab(menu.path)"
              [ngStyle]="{'color': selectedTab == menu.path ? '#fff' : '#1E1E1E'}"
          >
              <fa-icon 
                  *ngIf="getMenuFaIcon(menu)"
                  class="fa flex items-center px-2 text-sm" 
                  [icon]="getMenuFaIcon(menu)"
                  [ngStyle]="{'color': selectedTab == menu.path ? '#fff' : buttonColor}"
              >
              </fa-icon>
              {{ getMenuTitle(menu) }}
          </a>
          </ng-container>
      </div>
    </ng-container>
    <div *ngIf="hasCourseWallDropdown">
      <button id="dropdownDefaultButton" data-dropdown-toggle="dropdown" data-dropdown-trigger="hover" type="button"
        class="focus:outline-none text-sm px-5 py-2.5 text-center inline-flex items-center border border-white rounded-[10px]" 
        [ngStyle]="{
          'background-color': wallSelected || selectedTab >=200 ? buttonColor : 'transparent',
          'color': wallSelected || selectedTab >=200 ? '#fff' : buttonColor
        }"
      >
        <fa-icon 
          class="fa flex items-center px-2 text-sm" 
          [icon]="graduationCapIcon"
          [ngStyle]="{
            'color': wallSelected || selectedTab >= 200 ? '#fff' : buttonColor
          }"
        >
        </fa-icon>
        {{ courseWallPrefix == 1 ? (getCourseWallPrefix() || ('sidebar.communitysupport' | translate)) : ('sidebar.communitysupport' | translate) }} 
        <svg class="w-2.5 h-2.5 ml-2.5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 10 6">
        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 4 4 4-4"/>
      </svg></button>
      <div id="dropdown" class="z-10 hidden bg-white divide-y divide-gray-100 rounded-lg w-auto dark:bg-gray-700 top-3">
          <ul class="py-2 text-sm text-gray-700 dark:text-gray-200" aria-labelledby="dropdownDefaultButton">
            <li *ngFor="let submenu of courseWallDropdownMenu?.subs">
              <a 
                href="javascript:;"
                (click)="goToCourseWall(submenu)" 
                class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white"
                [ngClass]="{'font-bold': currentWallId == (submenu.path?.replace('activity-feed-', ''))}"
              >
                {{ getMenuTitle(submenu) }}
              </a>
            </li>
          </ul>
      </div>
    </div>
  </div>
</nav> -->
<aside class="hidden sm:hidden md:block lg:block h-screen sticky top-0 overflow-hidden transition-all duration-300" 
  [ngClass]="{
      'w-auto sm:w-auto md:w-18 lg:w-18': collapsed, 
      'w-auto sm:w-auto md:w-64 lg:w-64': !collapsed
  }">
  <nav class="h-full flex flex-col border-r shadow-sm" [ngStyle]="{'background-color': buttonColor}">
    <div class="flex flex-col justify-center items-center mt-8">
      <div class="pt-2 pb-10 flex justify-between items-center" [ngClass]="{'w-full': !collapsed}">
        <img
          (click)="toggleSidebar('', {})"
          src="https://apiupgrade.vistingo.com/secureapi/get-image-company/universidadeuropea.com_logo.png"
          class="overflow-hidden transition-all duration-500 cursor-pointer w-[40px] max-w-[40px] h-[40px] max-h-[40px] object-cover ease-in-out"
          [ngClass]="{'w-[180px] object-contain ml-6': !collapsed, 'w-[40px] max-w-[40px] h-[40px] max-h-[40px] object-cover object-left': collapsed}"
          alt=""
        />
      </div>
      <ng-container *ngIf="collapsed">
        <div class="ml-20 w-full">
          <svg *ngIf="collapsed" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20" class="w-5 h-5 text-white dark:text-white cursor-pointer" (click)="toggleSidebar('', {})">
            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"></path>
          </svg>
        </div>
      </ng-container>
      <ng-container *ngIf="!collapsed">
        <div class="relative w-full ml-12">
            <div class="absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none">
                <svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20" class="w-5 h-5 text-white dark:text-white cursor-pointer" (click)="toggleSidebar('', {})">
                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"></path>
                </svg>
            </div>
            <input 
                type="search" 
                [(ngModel)]="search" 
                [ngModelOptions]="{standalone: true}" 
                id="default-search" 
                class="block w-10/12 py-3 px-3 pl-10 text-sm text-white rounded-2xl shadow bg-red-400 border-none placeholder-white" 
                placeholder="{{ 'landing.search' | translate }}"
                (keyup.enter)="handleKeyPressed()"
            >
        </div>
      </ng-container>
      <div class="mt-12 ml-12 w-full">
          <div class="text-white text-sm" *ngIf="!collapsed">{{ 'landing.menu' | translate }}</div>
          <div *ngIf="collapsed">&nbsp;</div>
      </div>
      <div *ngFor="let menu of menus$ | async" class="py-2 my-2 flex items-center"
        [ngClass]="{
          'w-full ml-12': selectedTab != menu.path && !collapsed,
          'bg-red-400 rounded-lg': selectedTab == menu.path,
          'w-[55px] ml-1.5': selectedTab == menu.path && collapsed,
          'w-10/12 ml-0': selectedTab == menu.path && !collapsed
        }"
      >
        <ng-container *ngIf="!menu?.new_button && !menu?.course_wall">
          <div>
            <img
              (click)="toggleSidebar('icon', menu)"
              [routerLink]="['/', (menu?.path == 'home' ? '/' : menu?.path)]"
              [src]="getMenuIcon(menu)"
              class="cursor-pointer w-[22px] max-w-[22px] h-[22px] max-h-[22px]"
              [ngClass]="{
                'ml-4': selectedTab == menu.path,
                'ml-3.5': selectedTab != menu.path && !collapsed,
                'ml-2': selectedTab != menu.path && collapsed
              }"
              alt=""
            />
          </div>
          <span class="text-white ml-4 text-sm" *ngIf="!collapsed">{{ getMenuTitle(menu) }}</span>
        </ng-container>
        <ng-container *ngIf="menu?.new_button == 1">
          <div>
            <div 
              (click)="openUrl(menu?.path)" 
              class="cursor-pointer w-[22px] max-w-[22px] h-[22px] max-h-[22px]"
              [ngClass]="{
                'ml-4': selectedTab == menu.path,
                'ml-3.5': selectedTab != menu.path && !collapsed,
                'ml-2': selectedTab != menu.path && collapsed
              }"
            >
              <svg
                class="w-6 h-6 text-white dark:text-white" 
                aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 20">
                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m13 19-6-5-6 5V2a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v17Z"/>
              </svg>
            </div>
          </div>
          <span class="text-white ml-4 text-sm" *ngIf="!collapsed">{{ getMenuTitle(menu) }}</span>
        </ng-container>
      </div>
    </div>
    <div class="ml-6 border-t mt-4 border-gray-200 dark:border-gray-700"
      [ngClass]="{
        'w-7/12': collapsed,
        'w-10/12': selectedTab == 'settings' && !collapsed,
        'mr-6': !collapsed
      }">&nbsp;</div>
    <div class="flex items-center ml-6"
      [ngClass]="{
        'w-full': collapsed && selectedTab != 'settings',
        'bg-red-400 rounded-lg': selectedTab == 'settings',
        'w-[55px]': selectedTab == 'settings' && collapsed,
        'w-10/12': selectedTab == 'settings' && !collapsed
      }"
    >
      <div class="flex py-2">
        <ng-container *ngIf="username && isAdmin">
          <div>
            <img
              (click)="toggleSidebar('icon', 'settings')"
              [routerLink]="['/settings']"
              src="./assets/menu-icons/menu-icon-settings.png"
              class="ml-4 mr-4 cursor-pointer w-[22px] max-w-[22px] h-[22px] max-h-[22px]"
              alt=""
            />
          </div>
          <span class="text-white text-sm" *ngIf="!collapsed">{{ 'company-settings.settings' | translate }}</span>
        </ng-container>
      </div>
    </div>
    <div class="w-full flex items-center ml-5" *ngIf="language">
      <div class="flex py-6" [ngClass]="{'w-10/12 ml-1.5': !collapsed}">
        <img
          *ngIf="collapsed"
          (click)="toggleSidebar('icon', 'language')"
          [src]="language == 'es' ? './assets/menu-icons/menu-icon-es.png' : './assets/menu-icons/menu-icon-es.png'"
          class="ml-4 mr-4 cursor-pointer w-[30px] max-w-[30px] h-[23px] max-h-[23px]"
          alt=""
        />
        <ng-container *ngIf="!collapsed">
          <button id="countries-button" data-dropdown-toggle="dropdown-countries" class="flex-shrink-0 z-10 inline-flex items-center py-2.5 px-4 text-sm font-medium text-center text-white" type="button"
            [ngClass]="{'bg-red-400 rounded-lg': !collapsed}"
          >
            <img *ngIf="language == 'es'" width="20" height="16" class="mr-3" src="./assets/menu-icons/es.svg">
            <img *ngIf="language == 'en'" width="20" height="16" class="mr-3" src="./assets/menu-icons/en.svg">
            <span class="uppercase">{{ language }}</span>
            <svg class="w-2.5 h-2.5 ml-2.5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 10 6">
              <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 4 4 4-4"/>
            </svg>
          </button>
          <div id="dropdown-countries" class="ml-6 z-10 hidden bg-white divide-y divide-gray-100 rounded-lg shadow w-40 dark:bg-gray-700">
            <ul class="py-2 text-sm text-gray-700 dark:text-gray-200" aria-labelledby="countries-button">
              <ng-container *ngFor="let lang of languages;let i = index;">
                <li>
                  <button type="button" (click)="useLanguage(lang.code)" class="inline-flex w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-gray-600 dark:hover:text-white">
                      <div class="inline-flex items-center">
                        <svg *ngIf="lang?.code == 'es'" class="h-3.5 w-3.5 rounded-full mr-2" enable-background="new 0 0 512 512" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="m0 256c0 31.314 5.633 61.31 15.923 89.043l240.077 22.261 240.077-22.261c10.29-27.733 15.923-57.729 15.923-89.043s-5.633-61.31-15.923-89.043l-240.077-22.261-240.077 22.261c-10.29 27.733-15.923 57.729-15.923 89.043z" fill="#ffda44"/><g fill="#d80027"><path d="m496.077 166.957c-36.171-97.484-130.006-166.957-240.077-166.957s-203.906 69.473-240.077 166.957z"/><path d="m15.923 345.043c36.171 97.484 130.006 166.957 240.077 166.957s203.906-69.473 240.077-166.957z"/></g><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/></svg>
                        <svg *ngIf="lang?.code == 'en'" aria-hidden="true" class="h-3.5 w-3.5 rounded-full mr-2" xmlns="http://www.w3.org/2000/svg" id="flag-icon-css-es" viewBox="0 0 512 512"><g fill-rule="evenodd"><g stroke-width="1pt"><path fill="#bd3d44" d="M0 0h247v10H0zm0 20h247v10H0zm0 20h247v10H0zm0 20h247v10H0zm0 20h247v10H0zm0 20h247v10H0zm0 20h247v10H0z" transform="scale(3.9385)"/><path fill="#fff" d="M0 10h247v10H0zm0 20h247v10H0zm0 20h247v10H0zm0 20h247v10H0zm0 20h247v10H0zm0 20h247v10H0z" transform="scale(3.9385)"/></g><path fill="#192f5d" d="M0 0h98.8v70H0z" transform="scale(3.9385)"/><path fill="#fff" d="M8.2 3l1 2.8H12L9.7 7.5l.9 2.7-2.4-1.7L6 10.2l.9-2.7-2.4-1.7h3zm16.5 0l.9 2.8h2.9l-2.4 1.7 1 2.7-2.4-1.7-2.4 1.7 1-2.7-2.4-1.7h2.9zm16.5 0l.9 2.8H45l-2.4 1.7 1 2.7-2.4-1.7-2.4 1.7 1-2.7-2.4-1.7h2.9zm16.4 0l1 2.8h2.8l-2.3 1.7.9 2.7-2.4-1.7-2.3 1.7.9-2.7-2.4-1.7h3zm16.5 0l.9 2.8h2.9l-2.4 1.7 1 2.7L74 8.5l-2.3 1.7.9-2.7-2.4-1.7h2.9zm16.5 0l.9 2.8h2.9L92 7.5l1 2.7-2.4-1.7-2.4 1.7 1-2.7-2.4-1.7h2.9zm-74.1 7l.9 2.8h2.9l-2.4 1.7 1 2.7-2.4-1.7-2.4 1.7 1-2.7-2.4-1.7h2.9zm16.4 0l1 2.8h2.8l-2.3 1.7.9 2.7-2.4-1.7-2.3 1.7.9-2.7-2.4-1.7h3zm16.5 0l.9 2.8h2.9l-2.4 1.7 1 2.7-2.4-1.7-2.4 1.7 1-2.7-2.4-1.7h2.9zm16.5 0l.9 2.8h2.9l-2.4 1.7 1 2.7-2.4-1.7-2.4 1.7 1-2.7-2.4-1.7H65zm16.4 0l1 2.8H86l-2.3 1.7.9 2.7-2.4-1.7-2.3 1.7.9-2.7-2.4-1.7h3zm-74 7l.8 2.8h3l-2.4 1.7.9 2.7-2.4-1.7L6 24.2l.9-2.7-2.4-1.7h3zm16.4 0l.9 2.8h2.9l-2.3 1.7.9 2.7-2.4-1.7-2.3 1.7.9-2.7-2.4-1.7h2.9zm16.5 0l.9 2.8H45l-2.4 1.7 1 2.7-2.4-1.7-2.4 1.7 1-2.7-2.4-1.7h2.9zm16.4 0l1 2.8h2.8l-2.3 1.7.9 2.7-2.4-1.7-2.3 1.7.9-2.7-2.4-1.7h3zm16.5 0l.9 2.8h2.9l-2.3 1.7.9 2.7-2.4-1.7-2.3 1.7.9-2.7-2.4-1.7h2.9zm16.5 0l.9 2.8h2.9L92 21.5l1 2.7-2.4-1.7-2.4 1.7 1-2.7-2.4-1.7h2.9zm-74.1 7l.9 2.8h2.9l-2.4 1.7 1 2.7-2.4-1.7-2.4 1.7 1-2.7-2.4-1.7h2.9zm16.4 0l1 2.8h2.8l-2.3 1.7.9 2.7-2.4-1.7-2.3 1.7.9-2.7-2.4-1.7h3zm16.5 0l.9 2.8h2.9l-2.3 1.7.9 2.7-2.4-1.7-2.3 1.7.9-2.7-2.4-1.7h2.9zm16.5 0l.9 2.8h2.9l-2.4 1.7 1 2.7-2.4-1.7-2.4 1.7 1-2.7-2.4-1.7H65zm16.4 0l1 2.8H86l-2.3 1.7.9 2.7-2.4-1.7-2.3 1.7.9-2.7-2.4-1.7h3zm-74 7l.8 2.8h3l-2.4 1.7.9 2.7-2.4-1.7L6 38.2l.9-2.7-2.4-1.7h3zm16.4 0l.9 2.8h2.9l-2.3 1.7.9 2.7-2.4-1.7-2.3 1.7.9-2.7-2.4-1.7h2.9zm16.5 0l.9 2.8H45l-2.4 1.7 1 2.7-2.4-1.7-2.4 1.7 1-2.7-2.4-1.7h2.9zm16.4 0l1 2.8h2.8l-2.3 1.7.9 2.7-2.4-1.7-2.3 1.7.9-2.7-2.4-1.7h3zm16.5 0l.9 2.8h2.9l-2.3 1.7.9 2.7-2.4-1.7-2.3 1.7.9-2.7-2.4-1.7h2.9zm16.5 0l.9 2.8h2.9L92 35.5l1 2.7-2.4-1.7-2.4 1.7 1-2.7-2.4-1.7h2.9zm-74.1 7l.9 2.8h2.9l-2.4 1.7 1 2.7-2.4-1.7-2.4 1.7 1-2.7-2.4-1.7h2.9zm16.4 0l1 2.8h2.8l-2.3 1.7.9 2.7-2.4-1.7-2.3 1.7.9-2.7-2.4-1.7h3zm16.5 0l.9 2.8h2.9l-2.3 1.7.9 2.7-2.4-1.7-2.3 1.7.9-2.7-2.4-1.7h2.9zm16.5 0l.9 2.8h2.9l-2.4 1.7 1 2.7-2.4-1.7-2.4 1.7 1-2.7-2.4-1.7H65zm16.4 0l1 2.8H86l-2.3 1.7.9 2.7-2.4-1.7-2.3 1.7.9-2.7-2.4-1.7h3zm-74 7l.8 2.8h3l-2.4 1.7.9 2.7-2.4-1.7L6 52.2l.9-2.7-2.4-1.7h3zm16.4 0l.9 2.8h2.9l-2.3 1.7.9 2.7-2.4-1.7-2.3 1.7.9-2.7-2.4-1.7h2.9zm16.5 0l.9 2.8H45l-2.4 1.7 1 2.7-2.4-1.7-2.4 1.7 1-2.7-2.4-1.7h2.9zm16.4 0l1 2.8h2.8l-2.3 1.7.9 2.7-2.4-1.7-2.3 1.7.9-2.7-2.4-1.7h3zm16.5 0l.9 2.8h2.9l-2.3 1.7.9 2.7-2.4-1.7-2.3 1.7.9-2.7-2.4-1.7h2.9zm16.5 0l.9 2.8h2.9L92 49.5l1 2.7-2.4-1.7-2.4 1.7 1-2.7-2.4-1.7h2.9zm-74.1 7l.9 2.8h2.9l-2.4 1.7 1 2.7-2.4-1.7-2.4 1.7 1-2.7-2.4-1.7h2.9zm16.4 0l1 2.8h2.8l-2.3 1.7.9 2.7-2.4-1.7-2.3 1.7.9-2.7-2.4-1.7h3zm16.5 0l.9 2.8h2.9l-2.3 1.7.9 2.7-2.4-1.7-2.3 1.7.9-2.7-2.4-1.7h2.9zm16.5 0l.9 2.8h2.9l-2.4 1.7 1 2.7-2.4-1.7-2.4 1.7 1-2.7-2.4-1.7H65zm16.4 0l1 2.8H86l-2.3 1.7.9 2.7-2.4-1.7-2.3 1.7.9-2.7-2.4-1.7h3zm-74 7l.8 2.8h3l-2.4 1.7.9 2.7-2.4-1.7L6 66.2l.9-2.7-2.4-1.7h3zm16.4 0l.9 2.8h2.9l-2.3 1.7.9 2.7-2.4-1.7-2.3 1.7.9-2.7-2.4-1.7h2.9zm16.5 0l.9 2.8H45l-2.4 1.7 1 2.7-2.4-1.7-2.4 1.7 1-2.7-2.4-1.7h2.9zm16.4 0l1 2.8h2.8l-2.3 1.7.9 2.7-2.4-1.7-2.3 1.7.9-2.7-2.4-1.7h3zm16.5 0l.9 2.8h2.9l-2.3 1.7.9 2.7-2.4-1.7-2.3 1.7.9-2.7-2.4-1.7h2.9zm16.5 0l.9 2.8h2.9L92 63.5l1 2.7-2.4-1.7-2.4 1.7 1-2.7-2.4-1.7h2.9z" transform="scale(3.9385)"/></g></svg>  
                        <span class="uppercase">{{ lang?.code }}</span>
                      </div>
                  </button>
                </li>
              </ng-container> 
            </ul>
          </div>
        </ng-container>
      </div>
    </div>
  </nav>
</aside>