<aside class="hidden sm:hidden md:block lg:block h-screen sticky top-0 pt-8 main-sidebar w-18 hover:w-64" 
  [ngStyle]="{'background-color': primaryColor == '#ffffff' ? buttonColor : primaryColor}"
  [ngClass]="{'whitespace-nowrap': !menuOpened,'whitespace-normal': menuOpened}"
  (mouseover)="toggleHover(true)"
  (mouseleave)="toggleHover(false)">
  <div class="px-4 py-4 hover:cursor-pointer" [ngClass]="{'relative inset-0': !menuOpened}">
    <img class="w-[40px] max-w-[40px] h-[40px] max-h-[40px] object-left hover:w-[150px] hover:max-w-[150px]" 
      [ngClass]="{'m-auto': !menuOpened, 'object-cover': company?.id == 32, 'object-contain': company?.id != 32}"
      [src]="logoSource" />
  </div>
  <div class="my-3 px-4">
    <div class="text-sm" [ngStyle]="{'color': (primaryColor == '#ffffff' ? primaryColor : menuColor) || '#ffffff'}">{{ menuOpened ? ('landing.menu' | translate) : '&nbsp;' }}</div>
  </div>
  <ng-container *ngFor="let menu of menus$ | async" class="py-2 my-2 flex items-center">
    <ng-container *ngIf="!menu?.course_wall && menu?.path != 'dashboard'">
      <div class="px-4 py-2 hover:cursor-pointer">
        <div 
          class="flex items-center p-2 hover:rounded-lg"
          [ngClass]="{'rounded-lg': selectedTab == menu.path, 'justify-center': !menuOpened}"
          [ngStyle]="{'background-color': (menuHover && hoveredMenuPath == menu.path) || selectedTab == menu.path ? hoverColor : 'transparent'}"
          (click)="navigateToPage(menu)"
          (mouseover)="toggleMenuHover(true, menu)"
          (mouseleave)="toggleMenuHover(false, menu)"
        >
          <img
            [src]="menu?.new_button == 1 ? (menuColor == '#000000' ? './assets/menu-icons/menu-icon-colleague-dark.png' : './assets/menu-icons/menu-icon-colleague.png') : getMenuIcon(menu)"
            class="cursor-pointer w-[22px] max-w-[22px] h-[22px] max-h-[22px]"
            alt=""
          />
          <span
            *ngIf="menuOpened"
            class="text-sm ml-[36px]" 
            [ngStyle]="{'color': (primaryColor == '#ffffff' ? primaryColor : menuColor) || '#ffffff'}">
            {{ getMenuTitle(menu) }}
          </span>
        </div>
      </div>
    </ng-container>
  </ng-container>
  <ng-container *ngIf="username && isAdmin">
    <div class="px-4 py-2 hover:cursor-pointer" [routerLink]="['/settings']">
      <div class="p-2 flex items-center hover:rounded-lg"
        [ngStyle]="{'background-color': settingsHover ? hoverColor : 'transparent'}"
        [ngClass]="{'justify-center': !menuOpened}"
        (mouseover)="toggleSettingsHover(true)"
        (mouseleave)="toggleSettingsHover(false)"
      >
        <img
          [src]="menuColor == '#000000' ? './assets/menu-icons/menu-icon-settings-dark.png' : './assets/menu-icons/menu-icon-settings.png'"
          class="cursor-pointer w-[22px] max-w-[22px] h-[22px] max-h-[22px]"
          alt=""
        />
        <span *ngIf="menuOpened" class="ml-[36px] text-sm" [ngStyle]="{'color': (primaryColor == '#ffffff' ? primaryColor : menuColor) || '#ffffff'}">
          {{ 'company-settings.settings' | translate }}
        </span>
      </div>
    </div>
  </ng-container>
  <div class="px-4 py-2 hover:cursor-pointer">
    <div class="p-2 flex items-center hover:rounded-lg"
      [ngStyle]="{'background-color': languageHover ? hoverColor : 'transparent'}"
      [ngClass]="{'w-[130px]': languageHover, 'justify-center': !menuOpened}"
      (mouseover)="toggleLanguageHover(true)"
      (mouseleave)="toggleLanguageHover(false)"
    >
      <img
        [src]="language == 'en' ? './assets/menu-icons/menu-icon-en.png' : './assets/menu-icons/menu-icon-es.png'"
        class="cursor-pointer w-[30px] max-w-[30px] h-[23px] max-h-[23px] rounded-[5px]"
        alt=""
      />
      <ng-container *ngIf="menuOpened">
        <button id="countries-button" data-dropdown-toggle="dropdown-countries" data-dropdown-placement="bottom"
          class="flex-shrink-0 z-10 inline-flex items-center justify-between py-2.5 px-4 text-sm font-medium text-center" type="button"
          [ngClass]="{'rounded-lg': menuOpened && languageHover, 'text-white': menuColor != '#000000'}"
        >
          <span class="ml-3 uppercase">{{ language }}</span>
          <svg class="w-2.5 h-2.5 ml-2.5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 10 6">
            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 4 4 4-4"/>
          </svg>
        </button>
        <div id="dropdown-countries" class="z-8 hidden bg-white divide-y divide-gray-100 rounded-lg shadow w-24 dark:bg-gray-700">
          <ul class="py-2 text-sm text-gray-700 dark:text-gray-200" aria-labelledby="countries-button">
            <ng-container *ngFor="let lang of languages;let i = index;">
              <li>
                <button type="button" (click)="useLanguage(lang.code)" class="inline-flex px-4 py-2 text-sm text-gray-700">
                    <div class="inline-flex items-center">
                      <svg *ngIf="lang?.code == 'es'" class="h-3.5 w-3.5 rounded-full mr-2" enable-background="new 0 0 512 512" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="m0 256c0 31.314 5.633 61.31 15.923 89.043l240.077 22.261 240.077-22.261c10.29-27.733 15.923-57.729 15.923-89.043s-5.633-61.31-15.923-89.043l-240.077-22.261-240.077 22.261c-10.29 27.733-15.923 57.729-15.923 89.043z" fill="#ffda44"/><g fill="#d80027"><path d="m496.077 166.957c-36.171-97.484-130.006-166.957-240.077-166.957s-203.906 69.473-240.077 166.957z"/><path d="m15.923 345.043c36.171 97.484 130.006 166.957 240.077 166.957s203.906-69.473 240.077-166.957z"/></g><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/></svg>
                      <svg *ngIf="lang?.code == 'en'" aria-hidden="true" class="h-3.5 w-3.5 rounded-full mr-2" xmlns="http://www.w3.org/2000/svg" id="flag-icon-css-es" viewBox="0 0 512 512"><g fill-rule="evenodd"><g stroke-width="1pt"><path fill="#bd3d44" d="M0 0h247v10H0zm0 20h247v10H0zm0 20h247v10H0zm0 20h247v10H0zm0 20h247v10H0zm0 20h247v10H0zm0 20h247v10H0z" transform="scale(3.9385)"/><path fill="#fff" d="M0 10h247v10H0zm0 20h247v10H0zm0 20h247v10H0zm0 20h247v10H0zm0 20h247v10H0zm0 20h247v10H0z" transform="scale(3.9385)"/></g><path fill="#192f5d" d="M0 0h98.8v70H0z" transform="scale(3.9385)"/><path fill="#fff" d="M8.2 3l1 2.8H12L9.7 7.5l.9 2.7-2.4-1.7L6 10.2l.9-2.7-2.4-1.7h3zm16.5 0l.9 2.8h2.9l-2.4 1.7 1 2.7-2.4-1.7-2.4 1.7 1-2.7-2.4-1.7h2.9zm16.5 0l.9 2.8H45l-2.4 1.7 1 2.7-2.4-1.7-2.4 1.7 1-2.7-2.4-1.7h2.9zm16.4 0l1 2.8h2.8l-2.3 1.7.9 2.7-2.4-1.7-2.3 1.7.9-2.7-2.4-1.7h3zm16.5 0l.9 2.8h2.9l-2.4 1.7 1 2.7L74 8.5l-2.3 1.7.9-2.7-2.4-1.7h2.9zm16.5 0l.9 2.8h2.9L92 7.5l1 2.7-2.4-1.7-2.4 1.7 1-2.7-2.4-1.7h2.9zm-74.1 7l.9 2.8h2.9l-2.4 1.7 1 2.7-2.4-1.7-2.4 1.7 1-2.7-2.4-1.7h2.9zm16.4 0l1 2.8h2.8l-2.3 1.7.9 2.7-2.4-1.7-2.3 1.7.9-2.7-2.4-1.7h3zm16.5 0l.9 2.8h2.9l-2.4 1.7 1 2.7-2.4-1.7-2.4 1.7 1-2.7-2.4-1.7h2.9zm16.5 0l.9 2.8h2.9l-2.4 1.7 1 2.7-2.4-1.7-2.4 1.7 1-2.7-2.4-1.7H65zm16.4 0l1 2.8H86l-2.3 1.7.9 2.7-2.4-1.7-2.3 1.7.9-2.7-2.4-1.7h3zm-74 7l.8 2.8h3l-2.4 1.7.9 2.7-2.4-1.7L6 24.2l.9-2.7-2.4-1.7h3zm16.4 0l.9 2.8h2.9l-2.3 1.7.9 2.7-2.4-1.7-2.3 1.7.9-2.7-2.4-1.7h2.9zm16.5 0l.9 2.8H45l-2.4 1.7 1 2.7-2.4-1.7-2.4 1.7 1-2.7-2.4-1.7h2.9zm16.4 0l1 2.8h2.8l-2.3 1.7.9 2.7-2.4-1.7-2.3 1.7.9-2.7-2.4-1.7h3zm16.5 0l.9 2.8h2.9l-2.3 1.7.9 2.7-2.4-1.7-2.3 1.7.9-2.7-2.4-1.7h2.9zm16.5 0l.9 2.8h2.9L92 21.5l1 2.7-2.4-1.7-2.4 1.7 1-2.7-2.4-1.7h2.9zm-74.1 7l.9 2.8h2.9l-2.4 1.7 1 2.7-2.4-1.7-2.4 1.7 1-2.7-2.4-1.7h2.9zm16.4 0l1 2.8h2.8l-2.3 1.7.9 2.7-2.4-1.7-2.3 1.7.9-2.7-2.4-1.7h3zm16.5 0l.9 2.8h2.9l-2.3 1.7.9 2.7-2.4-1.7-2.3 1.7.9-2.7-2.4-1.7h2.9zm16.5 0l.9 2.8h2.9l-2.4 1.7 1 2.7-2.4-1.7-2.4 1.7 1-2.7-2.4-1.7H65zm16.4 0l1 2.8H86l-2.3 1.7.9 2.7-2.4-1.7-2.3 1.7.9-2.7-2.4-1.7h3zm-74 7l.8 2.8h3l-2.4 1.7.9 2.7-2.4-1.7L6 38.2l.9-2.7-2.4-1.7h3zm16.4 0l.9 2.8h2.9l-2.3 1.7.9 2.7-2.4-1.7-2.3 1.7.9-2.7-2.4-1.7h2.9zm16.5 0l.9 2.8H45l-2.4 1.7 1 2.7-2.4-1.7-2.4 1.7 1-2.7-2.4-1.7h2.9zm16.4 0l1 2.8h2.8l-2.3 1.7.9 2.7-2.4-1.7-2.3 1.7.9-2.7-2.4-1.7h3zm16.5 0l.9 2.8h2.9l-2.3 1.7.9 2.7-2.4-1.7-2.3 1.7.9-2.7-2.4-1.7h2.9zm16.5 0l.9 2.8h2.9L92 35.5l1 2.7-2.4-1.7-2.4 1.7 1-2.7-2.4-1.7h2.9zm-74.1 7l.9 2.8h2.9l-2.4 1.7 1 2.7-2.4-1.7-2.4 1.7 1-2.7-2.4-1.7h2.9zm16.4 0l1 2.8h2.8l-2.3 1.7.9 2.7-2.4-1.7-2.3 1.7.9-2.7-2.4-1.7h3zm16.5 0l.9 2.8h2.9l-2.3 1.7.9 2.7-2.4-1.7-2.3 1.7.9-2.7-2.4-1.7h2.9zm16.5 0l.9 2.8h2.9l-2.4 1.7 1 2.7-2.4-1.7-2.4 1.7 1-2.7-2.4-1.7H65zm16.4 0l1 2.8H86l-2.3 1.7.9 2.7-2.4-1.7-2.3 1.7.9-2.7-2.4-1.7h3zm-74 7l.8 2.8h3l-2.4 1.7.9 2.7-2.4-1.7L6 52.2l.9-2.7-2.4-1.7h3zm16.4 0l.9 2.8h2.9l-2.3 1.7.9 2.7-2.4-1.7-2.3 1.7.9-2.7-2.4-1.7h2.9zm16.5 0l.9 2.8H45l-2.4 1.7 1 2.7-2.4-1.7-2.4 1.7 1-2.7-2.4-1.7h2.9zm16.4 0l1 2.8h2.8l-2.3 1.7.9 2.7-2.4-1.7-2.3 1.7.9-2.7-2.4-1.7h3zm16.5 0l.9 2.8h2.9l-2.3 1.7.9 2.7-2.4-1.7-2.3 1.7.9-2.7-2.4-1.7h2.9zm16.5 0l.9 2.8h2.9L92 49.5l1 2.7-2.4-1.7-2.4 1.7 1-2.7-2.4-1.7h2.9zm-74.1 7l.9 2.8h2.9l-2.4 1.7 1 2.7-2.4-1.7-2.4 1.7 1-2.7-2.4-1.7h2.9zm16.4 0l1 2.8h2.8l-2.3 1.7.9 2.7-2.4-1.7-2.3 1.7.9-2.7-2.4-1.7h3zm16.5 0l.9 2.8h2.9l-2.3 1.7.9 2.7-2.4-1.7-2.3 1.7.9-2.7-2.4-1.7h2.9zm16.5 0l.9 2.8h2.9l-2.4 1.7 1 2.7-2.4-1.7-2.4 1.7 1-2.7-2.4-1.7H65zm16.4 0l1 2.8H86l-2.3 1.7.9 2.7-2.4-1.7-2.3 1.7.9-2.7-2.4-1.7h3zm-74 7l.8 2.8h3l-2.4 1.7.9 2.7-2.4-1.7L6 66.2l.9-2.7-2.4-1.7h3zm16.4 0l.9 2.8h2.9l-2.3 1.7.9 2.7-2.4-1.7-2.3 1.7.9-2.7-2.4-1.7h2.9zm16.5 0l.9 2.8H45l-2.4 1.7 1 2.7-2.4-1.7-2.4 1.7 1-2.7-2.4-1.7h2.9zm16.4 0l1 2.8h2.8l-2.3 1.7.9 2.7-2.4-1.7-2.3 1.7.9-2.7-2.4-1.7h3zm16.5 0l.9 2.8h2.9l-2.3 1.7.9 2.7-2.4-1.7-2.3 1.7.9-2.7-2.4-1.7h2.9zm16.5 0l.9 2.8h2.9L92 63.5l1 2.7-2.4-1.7-2.4 1.7 1-2.7-2.4-1.7h2.9z" transform="scale(3.9385)"/></g></svg>  
                      <span class="uppercase">{{ lang?.code }}</span>
                    </div>
                </button>
              </li>
            </ng-container> 
          </ul>
        </div>
      </ng-container>
    </div>
  </div>
  <ng-container *ngIf="hasCourseWallDropdown && !menuOpened">
    <div class="px-4 py-2 hover:cursor-pointer">
      <div class="p-2 flex items-center hover:rounded-lg"
        [ngStyle]="{'background-color': wallMenuHover ? hoverColor : 'transparent'}"
        [ngClass]="{'justify-center': !menuOpened}"
        (mouseover)="toggleWallMenuHover(true)"
        (mouseleave)="toggleWallMenuHover(false)"
      >
        <fa-icon *ngIf="!wallMenuOpened" 
          class="fa flex items-center text-xl" 
          [ngStyle]="{'color': (primaryColor == '#ffffff' ? primaryColor : menuColor) || '#ffffff' }"
          [icon]="graduationCapIcon">
        </fa-icon>
      </div>
    </div>
  </ng-container>
  <ng-container *ngIf="hasCourseWallDropdown && menuOpened">
    <div class="my-3 px-4">
      <div class="text-sm" [ngStyle]="{'color': (primaryColor == '#ffffff' ? primaryColor : menuColor) || '#ffffff'}">{{ getCourseWallMenuText() }}</div>
    </div>
    <ng-container *ngFor="let item of courseWallDropdownMenu?.subs" class="py-2 my-2 flex items-center">
      <div class="px-4 py-2 hover:cursor-pointer">
        <div 
          class="p-2 flex items-center hover:rounded-lg"
          [ngClass]="{'rounded-lg': hoveredCourseWallPath == item.path}"
          [ngStyle]="{'background-color': (courseWallHover && hoveredCourseWallPath == item.path) || hoveredCourseWallPath == item.path ? hoverColor : 'transparent'}"
          (click)="goToCourseWall(item)"
          (mouseover)="toggleCourseWallHover(true, item)"
          (mouseleave)="toggleCourseWallHover(false, item)"
        >
          <fa-icon 
            class="fa flex items-center text-xl cursor-pointer" 
            [ngStyle]="{'color': (primaryColor == '#ffffff' ? primaryColor : menuColor) || '#ffffff' }"
            [icon]="graduationCapIcon">
          </fa-icon>
          <span class="text-sm ml-[34px]" 
            [ngStyle]="{'color': (primaryColor == '#ffffff' ? primaryColor : menuColor) || '#ffffff'}">
            {{ getCourseWallName(item) }}
          </span>
        </div>
      </div>
    </ng-container>
  </ng-container>
</aside>