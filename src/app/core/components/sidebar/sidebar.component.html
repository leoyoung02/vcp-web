<aside class="hidden sm:hidden md:block lg:block h-screen sticky top-0 pt-8 main-sidebar w-18 hover:w-64" 
  [ngStyle]="{'background-color': primaryColor}"
  [ngClass]="{'whitespace-nowrap': !menuOpened,'whitespace-normal': menuOpened}"
  (mouseover)="toggleHover(true)"
  (mouseleave)="toggleHover(false)">
  <div class="pl-9 py-4 hover:cursor-pointer">
    <img class="w-[40px] max-w-[40px] h-[40px] max-h-[40px] object-left hover:w-[150px] hover:max-w-[150px]" 
      [ngClass]="{'object-cover': company?.id == 32, 'object-contain': company?.id != 32}"
      [src]="logoSource" />
  </div>
  <div class="pl-9 py-2 hover:cursor-pointer">
    <div class="p-2 flex items-center hover:rounded-lg mr-3"
      [ngStyle]="{'background-color': searchHover ? hoverColor : 'transparent'}"
      (mouseover)="toggleSearchHover(true)"
      (mouseleave)="toggleSearchHover(false)"
    >
      <img
        [src]="menuColor == '#000000' ? './assets/menu-icons/menu-icon-search-dark.png' : './assets/menu-icons/menu-icon-search.png'"
        class="cursor-pointer w-[22px] max-w-[22px] h-[22px] max-h-[22px]"
        alt=""
      />
      <input 
          type="search" 
          [(ngModel)]="search" 
          [ngModelOptions]="{standalone: true}" 
          id="default-search" 
          class="block w-10/12 py-2 px-3 pl-5 text-sm border-none focus:border-transparent focus:ring-0" 
          [ngStyle]="{'background-color': searchHover ? hoverColor : primaryColor, 'color': menuColor || '#ffffff'}"
          [ngClass]="{'placeholder-white': menuColor != '#000000'}"
          placeholder="{{ 'landing.search' | translate }}"
          (keyup.enter)="handleKeyPressed()"
      >
    </div>
  </div>
  <div class="my-3 pl-9">
    <div class="text-sm" [ngStyle]="{'color': menuColor || '#ffffff'}">{{ menuOpened ? ('landing.menu' | translate) : '&nbsp;' }}</div>
  </div>
  <ng-container *ngFor="let menu of menus$ | async" class="py-2 my-2 flex items-center">
    <ng-container *ngIf="!menu?.course_wall && menu?.path != 'dashboard'">
      <div class="pl-9 py-2 hover:cursor-pointer">
        <div 
          class="p-2 flex items-center hover:rounded-lg mr-3"
          [ngClass]="{'rounded-lg': selectedTab == menu.path}"
          [ngStyle]="{'background-color': (menuHover && hoveredMenuPath == menu.path) || selectedTab == menu.path ? hoverColor : 'transparent'}"
          (click)="navigateToPage(menu)"
          (mouseover)="toggleMenuHover(true, menu)"
          (mouseleave)="toggleMenuHover(false, menu)"
        >
          <img
            [src]="menu?.new_button == 1 ? (menuColor == '#000000' ? './assets/menu-icons/menu-icon-colleague-dark.png' : './assets/menu-icons/menu-icon-colleague.png') : getMenuIcon(menu)"
            class="cursor-pointer w-[22px] max-w-[22px] h-[22px] max-h-[22px]"
            alt=""
          />
          <span [ngClass]="menu.path == 'members' ? 'ml-[21px]' : (menu.path == 'discounts' || menu.path == 'services' ? 'ml-[22px]' : 'ml-[20px]')" 
            class="text-sm" 
            [ngStyle]="{'color': menuColor || '#ffffff'}">
            {{ getMenuTitle(menu) }}
          </span>
        </div>
      </div>
    </ng-container>
  </ng-container>
  <div class="border border-t border-gray-200 my-4 ml-9 mr-3"></div>
  <ng-container *ngIf="username && isAdmin">
    <div class="pl-9 py-2 hover:cursor-pointer" [routerLink]="['/settings']">
      <div class="p-2 flex items-center hover:rounded-lg mr-3"
        [ngStyle]="{'background-color': settingsHover ? hoverColor : 'transparent'}"
        (mouseover)="toggleSettingsHover(true)"
        (mouseleave)="toggleSettingsHover(false)"
      >
        <img
            [src]="menuColor == '#000000' ? './assets/menu-icons/menu-icon-settings-dark.png' : './assets/menu-icons/menu-icon-settings.png'"
            class="cursor-pointer w-[22px] max-w-[22px] h-[22px] max-h-[22px]"
            alt=""
          />
        <span class="ml-5 text-sm" [ngStyle]="{'color': menuColor || '#ffffff'}">{{ 'company-settings.settings' | translate }}</span>
      </div>
    </div>
  </ng-container>
  <div class="pl-9 py-2 hover:cursor-pointer">
    <div class="p-1 flex items-center mr-3">
      <img
        *ngIf="!menuOpened"
        [src]="language == 'en' ? './assets/menu-icons/menu-icon-en.png' : './assets/menu-icons/menu-icon-es.png'"
        class="cursor-pointer w-[30px] max-w-[30px] h-[23px] max-h-[23px] rounded-[5px]"
        alt=""
      />
      <ng-container *ngIf="menuOpened">
        <button id="countries-button" data-dropdown-toggle="dropdown-countries" 
          class="flex-shrink-0 z-10 inline-flex items-center py-2.5 px-4 text-sm font-medium text-center" type="button"
          [ngClass]="{'rounded-lg': menuOpened, 'text-white': menuColor != '#000000'}"
          [ngStyle]="{'background-color': menuOpened ? hoverColor : 'transparent'}"
        >
          <img *ngIf="language == 'es'" width="20" height="16" class="mr-3" src="./assets/menu-icons/es.svg">
          <img *ngIf="language == 'en'" width="20" height="16" class="mr-3" src="./assets/menu-icons/en.svg">
          <span class="uppercase">{{ language }}</span>
          <svg class="w-2.5 h-2.5 ml-2.5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 10 6">
            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 4 4 4-4"/>
          </svg>
        </button>
        <div id="dropdown-countries" class="ml-6 z-10 hidden bg-white divide-y divide-gray-100 rounded-lg shadow w-40 dark:bg-gray-700">
          <ul class="py-2 text-sm text-gray-700 dark:text-gray-200" aria-labelledby="countries-button">
            <ng-container *ngFor="let lang of languages;let i = index;">
              <li>
                <button type="button" (click)="useLanguage(lang.code)" class="inline-flex w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-gray-600 dark:hover:text-white">
                    <div class="inline-flex items-center">
                      <svg *ngIf="lang?.code == 'es'" class="h-3.5 w-3.5 rounded-full mr-2" enable-background="new 0 0 512 512" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="m0 256c0 31.314 5.633 61.31 15.923 89.043l240.077 22.261 240.077-22.261c10.29-27.733 15.923-57.729 15.923-89.043s-5.633-61.31-15.923-89.043l-240.077-22.261-240.077 22.261c-10.29 27.733-15.923 57.729-15.923 89.043z" fill="#ffda44"/><g fill="#d80027"><path d="m496.077 166.957c-36.171-97.484-130.006-166.957-240.077-166.957s-203.906 69.473-240.077 166.957z"/><path d="m15.923 345.043c36.171 97.484 130.006 166.957 240.077 166.957s203.906-69.473 240.077-166.957z"/></g><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/></svg>
                      <svg *ngIf="lang?.code == 'en'" aria-hidden="true" class="h-3.5 w-3.5 rounded-full mr-2" xmlns="http://www.w3.org/2000/svg" id="flag-icon-css-es" viewBox="0 0 512 512"><g fill-rule="evenodd"><g stroke-width="1pt"><path fill="#bd3d44" d="M0 0h247v10H0zm0 20h247v10H0zm0 20h247v10H0zm0 20h247v10H0zm0 20h247v10H0zm0 20h247v10H0zm0 20h247v10H0z" transform="scale(3.9385)"/><path fill="#fff" d="M0 10h247v10H0zm0 20h247v10H0zm0 20h247v10H0zm0 20h247v10H0zm0 20h247v10H0zm0 20h247v10H0z" transform="scale(3.9385)"/></g><path fill="#192f5d" d="M0 0h98.8v70H0z" transform="scale(3.9385)"/><path fill="#fff" d="M8.2 3l1 2.8H12L9.7 7.5l.9 2.7-2.4-1.7L6 10.2l.9-2.7-2.4-1.7h3zm16.5 0l.9 2.8h2.9l-2.4 1.7 1 2.7-2.4-1.7-2.4 1.7 1-2.7-2.4-1.7h2.9zm16.5 0l.9 2.8H45l-2.4 1.7 1 2.7-2.4-1.7-2.4 1.7 1-2.7-2.4-1.7h2.9zm16.4 0l1 2.8h2.8l-2.3 1.7.9 2.7-2.4-1.7-2.3 1.7.9-2.7-2.4-1.7h3zm16.5 0l.9 2.8h2.9l-2.4 1.7 1 2.7L74 8.5l-2.3 1.7.9-2.7-2.4-1.7h2.9zm16.5 0l.9 2.8h2.9L92 7.5l1 2.7-2.4-1.7-2.4 1.7 1-2.7-2.4-1.7h2.9zm-74.1 7l.9 2.8h2.9l-2.4 1.7 1 2.7-2.4-1.7-2.4 1.7 1-2.7-2.4-1.7h2.9zm16.4 0l1 2.8h2.8l-2.3 1.7.9 2.7-2.4-1.7-2.3 1.7.9-2.7-2.4-1.7h3zm16.5 0l.9 2.8h2.9l-2.4 1.7 1 2.7-2.4-1.7-2.4 1.7 1-2.7-2.4-1.7h2.9zm16.5 0l.9 2.8h2.9l-2.4 1.7 1 2.7-2.4-1.7-2.4 1.7 1-2.7-2.4-1.7H65zm16.4 0l1 2.8H86l-2.3 1.7.9 2.7-2.4-1.7-2.3 1.7.9-2.7-2.4-1.7h3zm-74 7l.8 2.8h3l-2.4 1.7.9 2.7-2.4-1.7L6 24.2l.9-2.7-2.4-1.7h3zm16.4 0l.9 2.8h2.9l-2.3 1.7.9 2.7-2.4-1.7-2.3 1.7.9-2.7-2.4-1.7h2.9zm16.5 0l.9 2.8H45l-2.4 1.7 1 2.7-2.4-1.7-2.4 1.7 1-2.7-2.4-1.7h2.9zm16.4 0l1 2.8h2.8l-2.3 1.7.9 2.7-2.4-1.7-2.3 1.7.9-2.7-2.4-1.7h3zm16.5 0l.9 2.8h2.9l-2.3 1.7.9 2.7-2.4-1.7-2.3 1.7.9-2.7-2.4-1.7h2.9zm16.5 0l.9 2.8h2.9L92 21.5l1 2.7-2.4-1.7-2.4 1.7 1-2.7-2.4-1.7h2.9zm-74.1 7l.9 2.8h2.9l-2.4 1.7 1 2.7-2.4-1.7-2.4 1.7 1-2.7-2.4-1.7h2.9zm16.4 0l1 2.8h2.8l-2.3 1.7.9 2.7-2.4-1.7-2.3 1.7.9-2.7-2.4-1.7h3zm16.5 0l.9 2.8h2.9l-2.3 1.7.9 2.7-2.4-1.7-2.3 1.7.9-2.7-2.4-1.7h2.9zm16.5 0l.9 2.8h2.9l-2.4 1.7 1 2.7-2.4-1.7-2.4 1.7 1-2.7-2.4-1.7H65zm16.4 0l1 2.8H86l-2.3 1.7.9 2.7-2.4-1.7-2.3 1.7.9-2.7-2.4-1.7h3zm-74 7l.8 2.8h3l-2.4 1.7.9 2.7-2.4-1.7L6 38.2l.9-2.7-2.4-1.7h3zm16.4 0l.9 2.8h2.9l-2.3 1.7.9 2.7-2.4-1.7-2.3 1.7.9-2.7-2.4-1.7h2.9zm16.5 0l.9 2.8H45l-2.4 1.7 1 2.7-2.4-1.7-2.4 1.7 1-2.7-2.4-1.7h2.9zm16.4 0l1 2.8h2.8l-2.3 1.7.9 2.7-2.4-1.7-2.3 1.7.9-2.7-2.4-1.7h3zm16.5 0l.9 2.8h2.9l-2.3 1.7.9 2.7-2.4-1.7-2.3 1.7.9-2.7-2.4-1.7h2.9zm16.5 0l.9 2.8h2.9L92 35.5l1 2.7-2.4-1.7-2.4 1.7 1-2.7-2.4-1.7h2.9zm-74.1 7l.9 2.8h2.9l-2.4 1.7 1 2.7-2.4-1.7-2.4 1.7 1-2.7-2.4-1.7h2.9zm16.4 0l1 2.8h2.8l-2.3 1.7.9 2.7-2.4-1.7-2.3 1.7.9-2.7-2.4-1.7h3zm16.5 0l.9 2.8h2.9l-2.3 1.7.9 2.7-2.4-1.7-2.3 1.7.9-2.7-2.4-1.7h2.9zm16.5 0l.9 2.8h2.9l-2.4 1.7 1 2.7-2.4-1.7-2.4 1.7 1-2.7-2.4-1.7H65zm16.4 0l1 2.8H86l-2.3 1.7.9 2.7-2.4-1.7-2.3 1.7.9-2.7-2.4-1.7h3zm-74 7l.8 2.8h3l-2.4 1.7.9 2.7-2.4-1.7L6 52.2l.9-2.7-2.4-1.7h3zm16.4 0l.9 2.8h2.9l-2.3 1.7.9 2.7-2.4-1.7-2.3 1.7.9-2.7-2.4-1.7h2.9zm16.5 0l.9 2.8H45l-2.4 1.7 1 2.7-2.4-1.7-2.4 1.7 1-2.7-2.4-1.7h2.9zm16.4 0l1 2.8h2.8l-2.3 1.7.9 2.7-2.4-1.7-2.3 1.7.9-2.7-2.4-1.7h3zm16.5 0l.9 2.8h2.9l-2.3 1.7.9 2.7-2.4-1.7-2.3 1.7.9-2.7-2.4-1.7h2.9zm16.5 0l.9 2.8h2.9L92 49.5l1 2.7-2.4-1.7-2.4 1.7 1-2.7-2.4-1.7h2.9zm-74.1 7l.9 2.8h2.9l-2.4 1.7 1 2.7-2.4-1.7-2.4 1.7 1-2.7-2.4-1.7h2.9zm16.4 0l1 2.8h2.8l-2.3 1.7.9 2.7-2.4-1.7-2.3 1.7.9-2.7-2.4-1.7h3zm16.5 0l.9 2.8h2.9l-2.3 1.7.9 2.7-2.4-1.7-2.3 1.7.9-2.7-2.4-1.7h2.9zm16.5 0l.9 2.8h2.9l-2.4 1.7 1 2.7-2.4-1.7-2.4 1.7 1-2.7-2.4-1.7H65zm16.4 0l1 2.8H86l-2.3 1.7.9 2.7-2.4-1.7-2.3 1.7.9-2.7-2.4-1.7h3zm-74 7l.8 2.8h3l-2.4 1.7.9 2.7-2.4-1.7L6 66.2l.9-2.7-2.4-1.7h3zm16.4 0l.9 2.8h2.9l-2.3 1.7.9 2.7-2.4-1.7-2.3 1.7.9-2.7-2.4-1.7h2.9zm16.5 0l.9 2.8H45l-2.4 1.7 1 2.7-2.4-1.7-2.4 1.7 1-2.7-2.4-1.7h2.9zm16.4 0l1 2.8h2.8l-2.3 1.7.9 2.7-2.4-1.7-2.3 1.7.9-2.7-2.4-1.7h3zm16.5 0l.9 2.8h2.9l-2.3 1.7.9 2.7-2.4-1.7-2.3 1.7.9-2.7-2.4-1.7h2.9zm16.5 0l.9 2.8h2.9L92 63.5l1 2.7-2.4-1.7-2.4 1.7 1-2.7-2.4-1.7h2.9z" transform="scale(3.9385)"/></g></svg>  
                      <span class="uppercase">{{ lang?.code }}</span>
                    </div>
                </button>
              </li>
            </ng-container> 
          </ul>
        </div>
      </ng-container>
    </div>
  </div>
</aside>