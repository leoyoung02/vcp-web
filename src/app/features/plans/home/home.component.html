<div class="bg-[#EEE]">
  <div class="relative">
    <div class="relative pt-[245px] mb-20 z-10">
      <div class="ml-20 hidden sm:hidden md:block lg:block">
        <app-breadcrumb 
            [level1Title]="level1Title"
            [level2Title]="level2Title"
            [level3Title]="level3Title"
            [level4Title]="level4Title"
            [buttonColor]="buttonColor"
            (goBack)="handleGoBack()"
        />
      </div>

      <div class="ml-[120px] mt-12">
        <p class="mb-6 text-[41px] font-semibold">{{ 'landing.events' | translate }}</p>
        <div class="flex overflow-hidden relative">
          <div class="relative flex-none mr-[280px] hidden 2xl:block">
            <!-- <div class="w-[723px] h-[375px] relative" #elementRef> -->
            <div class="w-[461px] h-[457px] relative font-semibold text-white" #elementRef>
              <div class="w-full max-w-full rounded-lg py-4 bg-transparent">
                <app-plans-calendar
                >
                </app-plans-calendar>
                <!-- [hasDateSelected]="hasDateSelected"
                    [showPastEvents]="mode == 'history' ? true : showPastEvents"
                    [joinedPlan]="joinedPlan"
                    [courses]="courses"
                    [groups]="groups"
                    [courseCategoriesAccessRoles]="courseCategoriesAccessRoles"
                    [allCourseCategories]="allCourseCategories"
                    [courseCategoryMapping]="courseCategoryMapping"
                    [admin1]="admin1"
                    [admin2]="admin2"
                    [superAdmin]="superAdmin"
                    [calendarFilterMode]="calendarFilterMode"
                    [canCreatePlan]="canCreatePlan"
                    (handleCalendarDateChange)="handleCalendarDateChanged($event)" 
                    (handleJoinChange)="handleJoinChanged($event)"
                    (handleExitCalendarFilter)="exitCalendarEventMode()"
                    [notifier]="childNotifier"
                    [isUESchoolOfLife]="isUESchoolOfLife"
                    [campus]="campus"
                    [mode]="mode" -->
              </div>
            </div>
          </div>
          <div class="w-full">
            <!-- <div class="flex space-x-12"> -->
            <div class="owl_container w-full">
              <app-carousel [language]="language" [items]="featured_products"  />
              <!-- <div *ngFor="let featured_product of featured_products">
                <app-rituale-card [language]="this.language" [cardData]="{title: this.titleTranslator(featured_product), description: this.descriptionTranslator(featured_product), image: featured_product.image, currency: featured_product.currency, amount: featured_product.amount, subcategories: featured_product.subcategories}" />
              </div> -->
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="absolute z-0 w-full top-[169px] left-0 hidden 2xl:block">
      <img class="w-full h-full" src="/src/assets/images/astro-ideal/rituale/back.png" />
    </div>
  </div>

  <div class="mb-8 flex items-center">
    <hr class="flex-1 h-[2px] bg-[#AEB0B0]" />
    <p class="font-medium text-xl flex-none px-4">{{ 'shop.gettoknowthemostoutstandingcourses' | translate }}</p>
    <hr class="flex-1 lg:flex-none lg:w-[130px] h-[2px] bg-[#AEB0B0]" />
  </div>
  <div class="pl-[102px] pr-[125px]">
    <div class="flex flex-wrap items-center space-y-5 pl-[23px]">
      <div class="cursor-pointer px-4 py-[10px] text-white font-semibold text-xl bg-[#464646] mr-[18px] mt-5 rounded-md" *ngFor="let subcategory of subcategories; let isFirst = first;" (click)="renderBySubcategory(subcategory.id)" [ngClass]="{'bg-[#A77FE0]': (this.selected_subcategory == subcategory.id), '2xl:ml-[54px]' : isFirst}">
        {{ titleTranslator(subcategory) || subcategory.es_title || "Empty" }}
      </div>
    </div>
  </div>
  <div class="pl-[102px] pr-[107px] mt-6">
    <div class="">
      <hr class="bg-[#D2D4D4] w-full h-[2px]" />
      <div class="pl-6 flex flex-col items-center space-y-4 space-x-0 2xl:space-y-0 2xl:items-center 2xl:flex-row 2xl:space-x-12 2xl:py-[11px] py-2">
        <div class="cursor-pointer flex flex-row items-center px-4 py-3 rounded-lg" *ngFor="let category of pcategories" (click)="renderByCategory(category.id)" [ngClass]="{'bg-[#A77FE0]': (this.selected_category == category.id)}">
          <img src="/src/assets/images/astro-ideal/rituale/money.png" [ngClass]="{'hidden': (this.selected_category == category.id)}" />
          <img src="/src/assets/images/astro-ideal/rituale/money_dark.png" [ngClass]="{'hidden': (this.selected_category != category.id)}" />
          <p class="text-[#A77FE0] text-xl font-semibold ml-2" [ngClass]="{'text-white': (this.selected_category == category.id)}">{{ titleTranslator(category) || category.es_title || "Empty" }}</p>
        </div>
      </div>
      <hr class="bg-[#D2D4D4] w-full h-[2px]" />
    </div>
  </div>

  <div class="px-[105px] grid grid-rows-8 grid-cols-1 xl:grid-rows-4 xl:grid-cols-2 2xl:grid-rows-2 2xl:grid-cols-4 gap-y-14 justify-items-center pb-60 mt-8">
    <div *ngFor="let product of products">
      <app-rituale-card [language]="this.language" [cardData]="{title: this.titleTranslator(product) || product.es_title, description: this.descriptionTranslator(product) || product.es_description, image: product.image, currency: product.currency, amount: product.amount, subcategories: product.subcategories || []}" />
    </div>
  </div>
</div>