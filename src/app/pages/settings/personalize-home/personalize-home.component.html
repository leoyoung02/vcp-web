<app-page-title title="{{ 'company-settings.personalizehometemplate' | translate }}"></app-page-title>
<div class="container flex flex-col sm:flex-col md:flex-row lg:flex-row items-center justify-between center w-full max-w-full px-4 md:px-0 lg:px-0 mx-auto py-3">
    <app-breadcrumb 
        [level1Title]="level1Title"
        [level2Title]="level2Title"
        [level3Title]="level3Title"
        [level4Title]="level4Title"
        [buttonColor]="buttonColor"
        (goBack)="handleGoBack()"
    />
</div>
<div class="p-10">
    <div class="flex flex-col sm:flex-col md:flex-row lg:flex-row">
        <ol class="w-full sm:w-full md:w-[200px] lg:w-[200px] relative text-gray-500 border-s border-gray-200 dark:border-gray-700 dark:text-gray-400">                  
            <li class="mb-10 ms-6">            
                <span *ngIf="isVideoTutorialsStepCompleted" class="absolute flex items-center justify-center w-8 h-8 bg-green-200 rounded-full -start-4 ring-4 ring-white dark:ring-gray-900 dark:bg-green-900">
                    <svg class="w-3.5 h-3.5 text-green-500 dark:text-green-400" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 12">
                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M1 5.917 5.724 10.5 15 1.5"/>
                    </svg>
                </span>
                <span *ngIf="!isVideoTutorialsStepCompleted" class="absolute flex items-center justify-center w-8 h-8 bg-gray-100 rounded-full -start-4 ring-4 ring-white dark:ring-gray-900 dark:bg-gray-700">
                    <svg class="w-3.5 h-3.5 text-gray-500 dark:text-gray-400" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24">
                        <path fill-rule="evenodd" d="M14 7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V7Zm2 9.4 4.7 1.5A1 1 0 0 0 22 17V7a1 1 0 0 0-1.3-1L16 7.7v8.8Z" clip-rule="evenodd"/>
                    </svg>  
                </span>
                <h3 class="font-medium leading-tight pt-1.5" [ngClass]="{'text-black font-semibold': isVideoTutorialsStep}">{{'personalize-home.tutorialvideos' | translate}}</h3>
            </li>
            <li class="mb-10 ms-6">
                <span *ngIf="isTemplateStepCompleted" class="absolute flex items-center justify-center w-8 h-8 bg-green-200 rounded-full -start-4 ring-4 ring-white dark:ring-gray-900 dark:bg-green-900">
                    <svg class="w-3.5 h-3.5 text-green-500 dark:text-green-400" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 12">
                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M1 5.917 5.724 10.5 15 1.5"/>
                    </svg>
                </span>
                <span *ngIf="!isTemplateStepCompleted" class="absolute flex items-center justify-center w-8 h-8 bg-gray-100 rounded-full -start-4 ring-4 ring-white dark:ring-gray-900 dark:bg-gray-700">
                    <svg class="w-3.5 h-3.5 text-gray-500 dark:text-gray-400" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 7h0m3.5 1.5h0m-7 0h0M7 12h0m9 4h2.7a2 2 0 0 0 1.9-1.3 9 9 0 1 0-16 2.5A9.1 9.1 0 0 0 12 21a2 2 0 0 0 2-2v-.9a2 2 0 0 1 2-2.1Z"/>
                    </svg>
                </span>
                <h3 class="font-medium leading-tight pt-1.5" [ngClass]="{'text-black font-semibold': isTemplateStep}">{{'personalize-home.template' | translate}}</h3>
            </li>
            <li class="mb-10 ms-6" *ngIf="activeLayoutId != 1">
                <span *ngIf="isContentStepCompleted" class="absolute flex items-center justify-center w-8 h-8 bg-green-200 rounded-full -start-4 ring-4 ring-white dark:ring-gray-900 dark:bg-green-900">
                    <svg class="w-3.5 h-3.5 text-green-500 dark:text-green-400" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 12">
                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M1 5.917 5.724 10.5 15 1.5"/>
                    </svg>
                </span>
                <span *ngIf="!isContentStepCompleted" class="absolute flex items-center justify-center w-8 h-8 bg-gray-100 rounded-full -start-4 ring-4 ring-white dark:ring-gray-900 dark:bg-gray-700">
                    <svg class="w-3.5 h-3.5 text-gray-500 dark:text-gray-400" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 6.2V5h11v1.2M8 5v14m-3 0h6m2-6.8V11h8v1.2M17 11v8m-1.5 0h3"/>
                    </svg>
                </span>
                <h3 class="font-medium leading-tight pt-1.5" [ngClass]="{'text-black font-semibold': isContentStep}">{{'personalize-home.content' | translate}}</h3>
            </li>
            <li class="ms-6"  *ngIf="activeLayoutId != 3">
                <span *ngIf="isSectionsStepCompleted" class="absolute flex items-center justify-center w-8 h-8 bg-green-200 rounded-full -start-4 ring-4 ring-white dark:ring-gray-900 dark:bg-green-900">
                    <svg class="w-3.5 h-3.5 text-green-500 dark:text-green-400" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 12">
                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M1 5.917 5.724 10.5 15 1.5"/>
                    </svg>
                </span>
                <span *ngIf="!isSectionsStepCompleted" class="absolute flex items-center justify-center w-8 h-8 bg-gray-100 rounded-full -start-4 ring-4 ring-white dark:ring-gray-900 dark:bg-gray-700">
                    <svg class="w-3.5 h-3.5 text-gray-500 dark:text-gray-400" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.1 4H5c-.5 0-.9.4-.9.9V9c0 .5.4.9.9.9h4c.5 0 .9-.4.9-.9V5c0-.5-.4-.9-.9-.9Zm10 0H15c-.5 0-.9.4-.9.9V9c0 .5.4.9.9.9h4c.5 0 .9-.4.9-.9V5c0-.5-.4-.9-.9-.9Zm-10 10H5c-.5 0-.9.4-.9.9V19c0 .5.4.9.9.9h4c.5 0 .9-.4.9-.9v-4c0-.5-.4-.9-.9-.9Zm10 0H15c-.5 0-.9.4-.9.9V19c0 .5.4.9.9.9h4c.5 0 .9-.4.9-.9v-4c0-.5-.4-.9-.9-.9Z"/>
                    </svg>
                </span>
                <h3 class="font-medium leading-tight pt-1.5" [ngClass]="{'text-black font-semibold': isSectionsStep}">{{'personalize-home.sections' | translate}}</h3>
            </li>
        </ol>
        <div class="pl-0 sm:pl-0 md:pl-4 lg:pl-4 mt-16 sm:mt-16 md:mt-0 lg:mt-0 w-full max-w-full">
            <div id="accordion-collapse" data-accordion="collapse">
                <h2 id="accordion-collapse-heading-1">
                    <button type="button" class="flex items-center justify-between w-full p-5 py-3 rtl:text-right text-gray-500 border border-b-0 border-gray-200 rounded-t-xl focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-800 dark:border-gray-700 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 gap-3" data-accordion-target="#accordion-collapse-body-1" aria-expanded="true" aria-controls="accordion-collapse-body-1"
                        [ngClass]="{'font-medium': isVideoTutorialsStep}">
                        <span class="flex items-center">
                            <span class="flex items-center justify-center w-5 h-5 me-2 text-xs border rounded-full shrink-0 dark:border-blue-500"
                                [ngClass]="{'text-blue-600 border-blue-600': isVideoTutorialsStep, 'text-slate-600 border-slate-600': !isVideoTutorialsStep}">
                                1
                            </span>
                            <span>{{'personalize-home.tutorialvideos' | translate}}</span>
                        </span>
                        <svg data-accordion-icon class="w-3 h-3 rotate-180 shrink-0" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 10 6">
                            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5 5 1 1 5"/>
                        </svg>
                    </button>
                </h2>
                <div id="accordion-collapse-body-1" [ngClass]="{'hidden': !isVideoTutorialsStep}" aria-labelledby="accordion-collapse-heading-1">
                    <div class="p-5 border border-b-0 border-gray-200 dark:border-gray-700 dark:bg-gray-900">
                        <div class="my-8">
                            <app-video-player [playlist]="playlist"></app-video-player>
                        </div>
                        <div class="flex justify-end">
                            <button (click)="goToTemplateStep()" type="button" class="text-white focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"
                                [ngStyle]="{'background-color': buttonColor}">
                                {{'signup.next' | translate}}
                            </button>
                        </div>
                    </div>
                </div>
                <h2 id="accordion-collapse-heading-2">
                    <button type="button" class="flex items-center justify-between w-full p-5 py-3 rtl:text-right text-gray-500 border border-b-0 border-gray-200 focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-800 dark:border-gray-700 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 gap-3" data-accordion-target="#accordion-collapse-body-2" aria-expanded="false" aria-controls="accordion-collapse-body-2"
                        [ngClass]="{'font-medium': isTemplateStep}">
                        <span class="flex items-center">
                            <span class="flex items-center justify-center w-5 h-5 me-2 text-xs border rounded-full shrink-0 dark:border-slate-500"
                                [ngClass]="{'text-blue-600 border-blue-600': isTemplateStep, 'text-slate-600 border-slate-600': !isTemplateStep}">
                                2
                            </span>
                            <span>{{'personalize-home.template' | translate}}</span>
                        </span>
                        <svg data-accordion-icon class="w-3 h-3 rotate-180 shrink-0" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 10 6">
                            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5 5 1 1 5"/>
                        </svg>
                    </button>
                </h2>
                <div id="accordion-collapse-body-2" [ngClass]="{'hidden': !isTemplateStep}" aria-labelledby="accordion-collapse-heading-2">
                    <div class="p-5 border border-b-0 border-gray-200 dark:border-gray-700">
                        <div class="flex grid grid-cols-1 md:grid-cols-3 lg:grid-cols-3 gap-6 w-full py-8">
                            <ng-container *ngFor="let template of homeTemplates">
                                <app-home-template-card 
                                    [id]="template?.id"
                                    [name]="template?.name"
                                    [image]="template?.image"
                                    [active]="template?.active"
                                    [buttonColor]="buttonColor"
                                    [primaryColor]="primaryColor">
                                </app-home-template-card>
                            </ng-container>
                        </div>
                        <div class="flex justify-end">
                            <button (click)="goToContentStep()" type="button" class="text-white focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"
                                [ngStyle]="{'background-color': buttonColor}">
                                {{'signup.next' | translate}}
                            </button>
                        </div>
                    </div>
                </div>
                <h2 id="accordion-collapse-heading-3">
                    <button type="button" class="flex items-center justify-between w-full p-5 py-3 rtl:text-right text-gray-500 border border-gray-200 focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-800 dark:border-gray-700 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 gap-3" data-accordion-target="#accordion-collapse-body-3" aria-expanded="false" aria-controls="accordion-collapse-body-3"
                        [ngClass]="{'font-medium': isContentStep}">
                        <span class="flex items-center">
                            <span class="flex items-center justify-center w-5 h-5 me-2 text-xs border rounded-full shrink-0 dark:border-slate-500"
                                [ngClass]="{'text-blue-600 border-blue-600': isContentStep, 'text-slate-600 border-slate-600': !isContentStep}">
                                3
                            </span>
                            <span>{{'personalize-home.content' | translate}}</span>
                        </span>
                        <svg data-accordion-icon class="w-3 h-3 rotate-180 shrink-0" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 10 6">
                            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5 5 1 1 5"/>
                        </svg>
                    </button>
                </h2>
                <div id="accordion-collapse-body-3" [ngClass]="{'hidden': !isContentStep}" aria-labelledby="accordion-collapse-heading-3">
                    <div class="p-5 border border-t-0 border-gray-200 dark:border-gray-700">
                        <p class="mb-2 text-gray-500 dark:text-gray-400">Text</p>
                        <p class="mb-2 text-gray-500 dark:text-gray-400">Description</p>
                        <div class="flex justify-end">
                            <button (click)="goToSectionsStep()" type="button" class="text-white focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"
                                [ngStyle]="{'background-color': buttonColor}">
                                {{'signup.next' | translate}}
                            </button>
                        </div>
                    </div>
                </div>
                <h2 id="accordion-collapse-heading-4">
                    <button type="button" class="flex items-center justify-between w-full p-5 py-3 rtl:text-right text-gray-500 border border-gray-200 focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-800 dark:border-gray-700 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 gap-3" data-accordion-target="#accordion-collapse-body-4" aria-expanded="false" aria-controls="accordion-collapse-body-4"
                        [ngClass]="{'font-medium': isContentStep}">
                        <span class="flex items-center">
                            <span class="flex items-center justify-center w-5 h-5 me-2 text-xs text-slate-600 border border-slate-600 rounded-full shrink-0 dark:border-slate-500"
                                [ngClass]="{'text-blue-600 border-blue-600': isSectionsStep, 'text-slate-600 border-slate-600': !isSectionsStep}">
                                4
                            </span>
                            <span>{{'personalize-home.sections' | translate}}</span>
                        </span>
                        <svg data-accordion-icon class="w-3 h-3 rotate-180 shrink-0" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 10 6">
                            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5 5 1 1 5"/>
                        </svg>
                    </button>
                </h2>
                <div id="accordion-collapse-body-4" [ngClass]="{'hidden': !isSectionsStep}" aria-labelledby="accordion-collapse-heading-4">
                    <div class="p-5 border border-t-0 border-gray-200 dark:border-gray-700">
                        <p class="mb-2 text-gray-500 dark:text-gray-400">Text</p>
                        <p class="mb-2 text-gray-500 dark:text-gray-400">Description</p>
                    </div>
                    <div class="flex justify-end">
                        <button (click)="finish()" type="button" class="text-white focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"
                            [ngStyle]="{'background-color': buttonColor}">
                            {{'course-assessment.finish' | translate}}
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>